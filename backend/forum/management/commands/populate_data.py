from django.core.management.base import BaseCommand
from django.contrib.auth.models import User
from forum.models import Category, Topic, Reply, UserProfile
from django.utils import timezone


class Command(BaseCommand):
    help = 'Populate database with sample forum data'

    def handle(self, *args, **kwargs):
        self.stdout.write(self.style.SUCCESS('Starting data population...'))

        # РюЁ Create category if not exists
        category, created = Category.objects.get_or_create(
            title="EV & рЃ░рЃўрЃЉрЃарЃўрЃЊрЃћрЃЉрЃў",
            defaults={
                "icon": "РџА",
                "description": "рЃћрЃџрЃћрЃЦрЃбрЃарЃЮ рЃЊрЃљ рЃ░рЃўрЃЉрЃарЃўрЃЊрЃБрЃџрЃў рЃљрЃЋрЃбрЃЮрЃЏрЃЮрЃЉрЃўрЃџрЃћрЃЉрЃўрЃА рЃњрЃљрЃюрЃ«рЃўрЃџрЃЋрЃљ"
            }
        )

        if created:
            self.stdout.write(self.style.SUCCESS(
                f'Created category: {category.title}'))
        else:
            self.stdout.write(f'Category already exists: {category.title}')

        # РюЁ Demo users if not exist
        users = []
        usernames = ["evfan", "tesla_master",
                     "prius_guru", "nissanleaf", "hybridlover"]
        for name in usernames:
            user, created = User.objects.get_or_create(
                username=name,
                defaults={
                    "email": f"{name}@example.com"
                }
            )
            if created:
                user.set_password("pass1234")
                user.save()
                # Create user profile
                UserProfile.objects.get_or_create(
                    user=user,
                    defaults={
                        "avatar": "­ЪџЌ",
                        "points": 10
                    }
                )
                self.stdout.write(self.style.SUCCESS(f'Created user: {name}'))
            users.append(user)

        topics_data = [
            ("2025 Tesla Model 3 Highland РђЊ рЃдрЃўрЃарЃА рЃДрЃўрЃЊрЃЋрЃљ?", """
рЃљрЃ«рЃљрЃџ Model 3 Highland-рЃќрЃћ рЃЉрЃћрЃЋрЃарЃў рЃЎрЃљрЃарЃњрЃў рЃЎрЃЮрЃЏрЃћрЃюрЃбрЃљрЃарЃў рЃгрЃљрЃЋрЃўрЃЎрЃўрЃЌрЃ«рЃћ.
рЃАрЃљрЃЏрЃњрЃќрЃљрЃЋрЃарЃЮ рЃЎрЃЮрЃЏрЃцрЃЮрЃарЃбрЃў рЃњрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃћрЃЉрЃБрЃџрЃўрЃљ, рЃЉрЃљрЃбрЃљрЃарЃћрЃљ рЃБрЃцрЃарЃЮ рЃњрЃљрЃЏрЃФрЃџрЃћрЃљ, рЃАрЃљрЃџрЃЮрЃюрЃўрЃА рЃўрЃќрЃЮрЃџрЃљрЃфрЃўрЃљрЃф рЃБрЃЎрЃћрЃЌрЃћрЃАрЃўрЃљ.

рЃЋрЃўрЃфрЃў рЃарЃЮрЃЏ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў Tesla-рЃА рЃАрЃћрЃарЃЋрЃўрЃАрЃў рЃљрЃарЃљрЃљ рЃЮрЃцрЃўрЃфрЃўрЃљрЃџрЃБрЃарЃљрЃЊ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃў рЃЊрЃљ рЃЏрЃЮрЃЏрЃАрЃљрЃ«рЃБрЃарЃћрЃЉрЃљ рЃарЃљрЃЏрЃЊрЃћрЃюрЃљрЃЊ рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃљ?
"""),

            ("Toyota Prius 2024 РђЊ рЃарЃћрЃљрЃџрЃБрЃарЃў рЃЏрЃЮрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ", """
рЃљрЃ«рЃљрЃџрЃў Prius рЃљрЃерЃЎрЃљрЃарЃљрЃЊ рЃДрЃЋрЃћрЃџрЃљрЃА рЃљрЃЮрЃфрЃћрЃЉрЃА рЃЊрЃўрЃќрЃљрЃўрЃюрЃўрЃЌ рЃЊрЃљ рЃћрЃЎрЃЮрЃюрЃЮрЃЏрЃўрЃўрЃЌ.
рЃЋрЃўрЃюрЃф рЃцрЃџрЃЮрЃЉрЃЌ, рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃарЃљрЃЏрЃЊрЃћрЃюрЃА рЃљрЃ«рЃљрЃарЃ»рЃљрЃЋрЃА рЃЦрЃљрЃџрЃљрЃЦрЃерЃў/рЃњрЃќрЃљрЃќрЃћ?
Hybrid system рЃўрЃгрЃДрЃћрЃЉрЃА рЃФрЃарЃљрЃЋрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљрЃА рЃфрЃўрЃЋ рЃљрЃЏрЃўрЃюрЃЊрЃерЃў?
"""),

            ("Hyundai Ioniq 5 vs Kia EV6 РђЊ рЃарЃЮрЃЏрЃћрЃџрЃў рЃ»рЃЮрЃЉрЃўрЃљ?", """
рЃЮрЃарЃўрЃЋрЃћ рЃЏрЃЮрЃЊрЃћрЃџрЃў рЃЕрЃћрЃЏрЃў рЃцрЃљрЃЋрЃЮрЃарЃўрЃбрЃўрЃљ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃЏрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃћрЃЉрЃА рЃЊрЃљрЃбрЃћрЃюрЃЋрЃўрЃА рЃАрЃўрЃЕрЃЦрЃљрЃарЃћ, рЃарЃћрЃљрЃџрЃБрЃарЃў range рЃЊрЃљ рЃАрЃљрЃЎрЃЮрЃЏрЃцрЃЮрЃарЃбрЃЮ рЃЏрЃњрЃќрЃљрЃЋрЃарЃЮрЃЉрЃљ.
GeorgiaРђЊрЃерЃў рЃарЃЮрЃЏрЃћрЃџ рЃЏрЃЮрЃЊрЃћрЃџрЃќрЃћ рЃБрЃцрЃарЃЮ рЃЏрЃљрЃарЃбрЃўрЃЋрЃўрЃљ рЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃўрЃА рЃерЃЮрЃЋрЃюрЃљ?
"""),

            ("Nissan Leaf 40 kWh BMS рЃЊрЃљ рЃЉрЃљрЃбрЃљрЃарЃћрЃўрЃА рЃЊрЃћрЃњрЃарЃљрЃЊрЃљрЃфрЃўрЃљ", """
Leaf 40 kWh рЃЏрЃЮрЃЊрЃћрЃџрЃќрЃћ рЃЉрЃћрЃЋрЃарЃА рЃБрЃЌрЃЦрЃЋрЃљрЃЏрЃА BMSРђЊрЃўрЃА рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃћрЃЉрЃќрЃћ.
рЃЌрЃБ 2020 рЃгрЃџрЃўрЃА Leaf-рЃА рЃЋрЃўрЃДрЃўрЃЊрЃў, рЃарЃљ рЃБрЃюрЃЊрЃљ рЃерЃћрЃЋрЃљрЃЏрЃЮрЃгрЃЏрЃЮ?
RapidGate рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ рЃўрЃАрЃћрЃЋ рЃљрЃЦрЃЋрЃА?
"""),

            ("Plug-in Hybrid vs Full EV РђЊ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ?", """
рЃЕрЃЋрЃћрЃюрЃА рЃЦрЃЋрЃћрЃДрЃљрЃюрЃљрЃерЃў рЃарЃљ рЃ»рЃЮрЃЉрЃўрЃљ? Plug-in Hybrid рЃЌрЃБ рЃАрЃарЃБрЃџрЃљрЃЊ рЃћрЃџрЃћрЃЦрЃбрЃарЃЮ?
рЃЦрЃБрЃЕрЃљрЃерЃў рЃДрЃЋрЃћрЃџрЃљ рЃљрЃЏрЃЉрЃЮрЃЉрЃА рЃарЃЮрЃЏ PHEV рЃўрЃЊрЃћрЃљрЃџрЃБрЃарЃўрЃљ рЃ»рЃљрЃЏрЃарЃЌрЃћрЃџрЃЮрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЊрЃљ рЃЦрЃљрЃџрЃљрЃЦрЃўрЃАрЃЌрЃЋрЃўрЃА, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃЏрЃљрЃарЃЌрЃџрЃљ рЃљрЃАрЃћрЃљ?
"""),

            ("Tesla Powerwall рЃЊрЃљ Solar roof рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў", """
рЃљрЃарЃўрЃА рЃЋрЃўрЃюрЃЏрЃћ рЃЋрЃўрЃАрЃљрЃф рЃБрЃЎрЃЋрЃћ рЃљрЃЦрЃЋрЃА рЃЏрЃќрЃўрЃА рЃърЃљрЃюрЃћрЃџрЃћрЃЉрЃў рЃЊрЃљ Powerwall?
рЃарЃљрЃЏрЃЊрЃћрЃюрЃљрЃЊ рЃљрЃЏрЃљрЃарЃЌрЃџрЃћрЃЉрЃА?
"""),

            ("рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ рЃќрЃљрЃЏрЃЌрЃљрЃарЃерЃў РђЊ рЃЉрЃљрЃбрЃљрЃарЃћрЃўрЃА рЃЏрЃЮрЃЋрЃџрЃљ", """
рЃарЃЮрЃњрЃЮрЃа рЃЋрЃўрЃфрЃљрЃЋ рЃЉрЃљрЃбрЃљрЃарЃћрЃљрЃА рЃЌрЃЮрЃЋрЃџрЃўрЃА рЃЊрЃарЃЮрЃА? рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃЋрЃбрЃћрЃюрЃЮ 20-80%?
"""),

            ("Hybrid brake booster problem РђЊ Toyota CH-R", """
Toyota CH-R Hybrid РђЊ рЃќрЃЮрЃњрЃ»рЃћрЃа рЃЉрЃарЃћрЃЎрЃў рЃЏрЃЎрЃЋрЃарЃўрЃЋрЃЊрЃћрЃЉрЃљ. рЃ«рЃЮрЃЏ рЃљрЃа рЃњрЃЦрЃЮрЃюрЃўрЃљрЃЌ рЃЏрЃАрЃњрЃљрЃЋрЃАрЃў?
"""),

            ("BMW i3 Rex рЃдрЃўрЃарЃА рЃЌрЃБ рЃљрЃарЃљ?", """
Range-extender BMW i3 рЃарЃљрЃЏрЃЊрЃћрЃюрЃљрЃЊ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃБрЃарЃўрЃљ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў?
"""),

            ("BYD Seal vs Tesla Model 3", """
BYD рЃљрЃ«рЃљрЃџ рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃА рЃарЃЮрЃњрЃЮрЃа рЃљрЃцрЃљрЃАрЃћрЃЉрЃЌ? Tesla-рЃА рЃарЃћрЃљрЃџрЃБрЃарЃў рЃЎрЃЮрЃюрЃЎрЃБрЃарЃћрЃюрЃбрЃў рЃњрЃљрЃ«рЃЊрЃљ?
"""), ("Tesla Supercharger рЃЦрЃАрЃћрЃџрЃў рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў РђЊ рЃарЃЮрЃЊрЃўрЃА рЃўрЃЦрЃюрЃћрЃЉрЃљ?", """
рЃЋрЃарЃфрЃћрЃџрЃЊрЃћрЃЉрЃљ рЃГЯФІЯф░рЃћрЃЉрЃў рЃарЃЮрЃЏ Supercharger рЃЦрЃАрЃћрЃџрЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃњрЃљрЃўрЃ«рЃАрЃюрЃљрЃА рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў.
рЃЋрЃўрЃюрЃЏрЃћрЃЏ рЃўрЃфрЃўрЃЌ рЃарЃљрЃЏрЃћ рЃЊрЃљрЃќрЃБрЃАрЃбрЃћрЃЉрЃБрЃџрЃў рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ?
"""),

            ("Toyota Camry Hybrid 2023 рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃћрЃЉрЃљ", """
Camry Hybrid рЃљрЃ«рЃљрЃџ рЃЌрЃљрЃЮрЃЉрЃљрЃќрЃћ рЃарЃЮрЃњрЃЮрЃарЃўрЃљ рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ?
рЃќрЃљрЃЏрЃЌрЃљрЃарЃерЃў рЃарЃљ Лђл░ЛЂЛЁлЙл┤рЃў рЃљрЃЦрЃЋрЃА рЃЌрЃЉрЃўрЃџрЃўрЃАрЃерЃў?
"""),

            ("EV рЃЉрЃљрЃбрЃљрЃарЃћрЃўрЃА рЃерЃћрЃфрЃЋрЃџрЃљ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў РђЊ рЃцрЃљрЃАрЃћрЃЉрЃў рЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃћрЃЉрЃљ", """
рЃЋрЃўрЃюрЃф рЃерЃћрЃфрЃЋрЃљрЃџрЃћрЃЌ рЃЉрЃљрЃбрЃљрЃарЃћрЃљ, рЃарЃљрЃЏрЃЊрЃћрЃюрЃў рЃЊрЃљрЃњрЃўрЃ»рЃЊрЃљрЃЌ рЃЊрЃљ рЃАрЃљрЃЊ рЃњрЃљрЃљрЃЎрЃћрЃЌрЃћрЃЌ?
рЃљрЃарЃўрЃА рЃАрЃљрЃюрЃЊрЃЮ рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃў?
"""),

            ("Hyundai Kona Electric РђЊ рЃарЃћрЃљрЃџрЃБрЃарЃў range рЃбрЃћрЃАрЃбрЃў", """
Kona Electric-рЃўрЃА рЃЏрЃцрЃџрЃЮрЃЉрЃћрЃџрЃћрЃЉрЃЮ,
рЃќрЃљрЃцрЃ«рЃБрЃџрЃерЃў рЃЊрЃљ рЃќрЃљрЃЏрЃЌрЃљрЃарЃерЃў рЃАрЃљрЃерЃБрЃљрЃџрЃЮрЃЊ рЃарЃљрЃЏрЃЊрЃћрЃю рЃЎрЃЏ рЃњрЃљрЃЊрЃўрЃА?
"""),

            ("Plug-in Hybrid рЃЊрЃљрЃбрЃћрЃюрЃЋрЃљ рЃАрЃљрЃ«рЃџрЃерЃў РђЊ рЃарЃљ infrastructuere рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ?", """
PHEV рЃЏрЃцрЃџрЃЮрЃЉрЃћрЃџрЃћрЃЉрЃЮ,
рЃАрЃљрЃ«рЃџрЃерЃў рЃарЃЮрЃЏ рЃўрЃбрЃћрЃюрЃўрЃЌ, рЃарЃљ рЃЕрЃљрЃЏрЃЮрЃюрЃбрЃљрЃЪрЃћрЃЉрЃљ рЃЊрЃљрЃњрЃГрЃўрЃарЃЊрЃљрЃЌ? 
рЃћрЃарЃЌ phase-рЃќрЃћ рЃАрЃљрЃЎрЃЏрЃљрЃарЃўрЃАрЃўрЃљ?
"""),

            ("EV Tax / рЃАрЃљрЃЉрЃљрЃЪрЃЮ рЃерЃћрЃдрЃљрЃЋрЃљрЃЌрЃћрЃЉрЃў РђЊ рЃарЃљ рЃ«рЃЊрЃћрЃЉрЃљ 2025 рЃгрЃћрЃџрЃА?", """
рЃ«рЃЋрЃЊрЃћрЃЉрЃљ рЃЌрЃБ рЃљрЃарЃљ EV-рЃћрЃЉрЃќрЃћ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў рЃљрЃ«рЃљрЃџрЃў рЃАрЃљрЃЉрЃљрЃЪрЃЮ рЃерЃћрЃдрЃљрЃЋрЃљрЃЌрЃћрЃЉрЃў?
рЃЋрЃарЃфрЃћрЃџрЃЊрЃћрЃЉрЃљ 2025 рЃгрЃџрЃўрЃЊрЃљрЃю рЃарЃљрЃЏрЃћ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ?
"""),

            ("Tesla Model Y рЃњрЃљрЃарЃћрЃЏрЃЮрЃюрЃбрЃћрЃЉрЃБрЃџрЃў рЃЉрЃљрЃбрЃљрЃарЃћрЃўрЃЌ РђЊ рЃдрЃўрЃарЃА рЃЌрЃБ рЃљрЃарЃљ?", """
рЃљрЃарЃАрЃћрЃЉрЃЮрЃЉрЃА рЃЉрЃћрЃЋрЃарЃў Model Y рЃњрЃљрЃарЃћрЃЏрЃЮрЃюрЃбрЃћрЃЉрЃБрЃџрЃў battery pack-рЃўрЃЌ.
рЃАрЃљрЃўрЃЊрЃљрЃю рЃЋрЃўрЃфрЃЮрЃЊрЃћ рЃЎрЃљрЃарЃњрЃўрЃљ рЃЌрЃБ рЃљрЃарЃљ? Worth it?
"""),

            ("Lexus UX250h Hybrid РђЊ рЃљрЃќрЃарЃў рЃљрЃЦрЃЋрЃА рЃДрЃўрЃЊрЃЋрЃљрЃА?", """
UX250hРђЊрЃќрЃћ рЃЉрЃћрЃЋрЃарЃА рЃБрЃДрЃЋрЃљрЃарЃА, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃЊрЃўрЃюрЃљрЃЏрЃўрЃЎрЃљ рЃАрЃБрЃАрЃбрЃўрЃљ.
Hybrid рЃћрЃЎрЃЮрЃюрЃЮрЃЏрЃўрЃљ рЃюрЃЮрЃарЃЏрЃљрЃџрЃБрЃарЃўрЃљ?
"""),

            ("Mitsubishi Outlander PHEV РђЊ рЃарЃћрЃљрЃџрЃБрЃарЃў рЃЏрЃЮрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ", """
Outlander PHEV рЃЏрЃцрЃџрЃЮрЃЉрЃћрЃџрЃћрЃЉрЃЮ,
EV рЃарЃћрЃЪрЃўрЃЏрЃерЃў рЃарЃљрЃЏрЃЊрЃћрЃюрЃА рЃњрЃљрЃЊрЃўрЃА рЃЌрЃЉрЃўрЃџрЃўрЃАрЃерЃў рЃАрЃљрЃфрЃЮрЃЉрЃћрЃЉрЃерЃў?
"""),

            ("EV Charging Etiquette рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў", """
рЃАрЃљрЃ»рЃљрЃарЃЮ рЃЊрЃљрЃЏрЃбрЃћрЃюрЃќрЃћ рЃ«рЃерЃўрЃарЃљрЃЊ рЃЏрЃљрЃюрЃЦрЃљрЃюрЃћрЃЉрЃА рЃбрЃЮрЃЋрЃћрЃЉрЃћрЃю рЃАрЃарЃБрЃџ рЃЊрЃљрЃбрЃћрЃюрЃЋрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ.
рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА рЃ»рЃљрЃарЃўрЃЏрЃљ рЃљрЃю time-limit? рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃљрЃќрЃарЃў?
"""),

            ("Nissan e-Power рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ РђЊ Hybrid рЃЌрЃБ рЃарЃљ рЃљрЃарЃўрЃА?", """
Nissan e-Power рЃЉрЃћрЃЋрЃарЃА рЃћрЃарЃћрЃЋрЃљ. 
Hybrid рЃљрЃарЃўрЃА рЃЌрЃБ range-extender? 
рЃЋрЃўрЃюрЃЏрЃћрЃЏ рЃўрЃДрЃўрЃЊрЃљ рЃЊрЃљ рЃарЃЮрЃњрЃЮрЃарЃўрЃљ?
"""),

            ("Tesla Autopilot рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў РђЊ рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА?", """
Autopilot рЃЊрЃљ FSD рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА?
Navigate on Highway рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА?
"""),

            ("Kia Niro EV / Hybrid РђЊ рЃарЃЮрЃЏрЃћрЃџрЃА рЃБрЃарЃЕрЃћрЃЋрЃЌ?", """
Niro EV vs Niro Hybrid РђЊ рЃарЃЮрЃЏрЃћрЃџрЃў рЃ»рЃЮрЃЉрЃўрЃљ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃърЃўрЃарЃЮрЃЉрЃћрЃЉрЃерЃў?
"""),

            ("Charging app-рЃћрЃЉрЃў рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў РђЊ рЃарЃЮрЃЏрЃћрЃџрЃў рЃБрЃЎрЃћрЃЌрЃћрЃАрЃўрЃљ?", """
EV рЃЏрЃФрЃдрЃЮрЃџрЃћрЃЉрЃЮ, рЃарЃЮрЃЏрЃћрЃџрЃў рЃљрЃърЃў рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃЊрЃљрЃЏрЃбрЃћрЃюрЃћрЃЉрЃўрЃА рЃАрЃљрЃърЃЮрЃЋрЃюрЃљрЃЊ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў?
PlugShare? EVWay? рЃАрЃ«рЃЋрЃљ?
"""),

            ("EV рЃЉрЃљрЃбрЃљрЃарЃћрЃўрЃА рЃњрЃљрЃЉрЃћрЃарЃЋрЃљ/рЃЊрЃћрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ РђЊ рЃюрЃўрЃерЃюрЃћрЃЉрЃў", """
рЃарЃЮрЃњрЃЮрЃа рЃерЃћрЃЋрЃљрЃЏрЃЕрЃюрЃўрЃЮ рЃЌрЃБ рЃЉрЃљрЃбрЃљрЃарЃћрЃљ рЃЊрЃћрЃцрЃЮрЃарЃЏрЃўрЃарЃЊрЃћрЃЉрЃљ рЃљрЃю swell рЃљрЃЦрЃЋрЃА?
рЃљрЃарЃўрЃА рЃЋрЃўрЃюрЃЏрЃћрЃА рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃћрЃЉрЃљ?
"""),

            ("Honda Insight Hybrid РђЊ рЃдрЃўрЃарЃА рЃЌрЃБ рЃљрЃарЃљ рЃерЃћрЃФрЃћрЃюрЃљ?", """
Insight Hybrid рЃўрЃерЃЋрЃўрЃљрЃЌрЃўрЃљ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў.
рЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃў рЃЊрЃљ рЃЉрЃљрЃбрЃљрЃарЃћрЃљ рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃљ?
"""),

            ("Google Maps EV Routing РђЊ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА?", """
Google Maps-рЃерЃў EV routing рЃЊрЃљ charging stops рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃљ.
рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃАрЃгрЃЮрЃарЃљрЃЊ?
"""),

            ("Solar charger for EV РђЊ рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА?", """
рЃљрЃарЃўрЃА рЃџрЃљрЃърЃљрЃарЃљрЃЎрЃў рЃарЃЮрЃЏ рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃЏрЃќрЃўрЃА рЃърЃљрЃюрЃћрЃџрЃћрЃЉрЃўрЃЌ EV рЃЊрЃљрЃбрЃћрЃюрЃЋрЃљ.
рЃЋрЃўрЃюрЃЏрЃћрЃА рЃњрЃљрЃЦрЃЋрЃЌ рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў ОаОЎОАОЎОЋОЪ?
"""),

            ("Tesla Model S 85 рЃЉрЃљрЃбрЃљрЃарЃћрЃўрЃА рЃЊрЃћрЃњрЃарЃљрЃЊрЃљрЃфрЃўрЃљ", """
Model S 85-рЃћрЃЉрЃўрЃА рЃЏрЃћрЃърЃљрЃбрЃарЃЮрЃюрЃћрЃћрЃЉрЃў,
рЃарЃљрЃЏрЃЊрЃћрЃю рЃърЃарЃЮрЃфрЃћрЃюрЃбрЃќрЃћ рЃњрЃљрЃЦрЃЋрЃЌ degradation рЃгрЃџрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ?
"""),

            ("BMW X5 45e vs Mercedes GLE 350e РђЊ Hybrid рЃерЃћрЃЊрЃљрЃарЃћрЃЉрЃљ", """
рЃЮрЃарЃўрЃЋрЃћ Premium Plug-in Hybrid. 
рЃарЃЮрЃЏрЃћрЃџрЃў рЃ»рЃЮрЃЉрЃўрЃљ рЃарЃћрЃљрЃџрЃБрЃа рЃфрЃ«рЃЮрЃЋрЃарЃћрЃЉрЃљрЃерЃў?
рЃАрЃћрЃарЃЋрЃўрЃАрЃў/рЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃў рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў?
""")
        ]

        # РюЁ Create topics & replies
        topics_created = 0
        replies_created = 0

        for title, content in topics_data:
            # Check if topic already exists
            if Topic.objects.filter(title=title).exists():
                self.stdout.write(f'Topic already exists: {title[:50]}...')
                continue

            topic = Topic.objects.create(
                title=title,
                content=content,
                author=users[0],
                category=category
            )
            topics_created += 1

            # Auto add sample replies
            sample_replies = [
                "рЃФрЃљрЃџрЃўрЃљрЃю рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮ рЃЎрЃўрЃЌрЃ«рЃЋрЃљрЃљ, рЃЏрЃћрЃф рЃЏрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃћрЃЉрЃА.",
                "рЃЏрЃћ рЃЋрЃцрЃџрЃЮрЃЉ рЃЊрЃљ рЃФрЃљрЃџрЃўрЃљрЃю рЃЎрЃЏрЃљрЃДрЃЮрЃцрЃўрЃџрЃў рЃЋрЃљрЃа!",
                "Georgia-рЃерЃў рЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃў рЃљрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃўрЃерЃЮрЃЋрЃћрЃЉрЃљ, рЃАрЃБрЃџ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ рЃљрЃарЃљрЃљ.",
                "Range рЃќрЃљрЃЏрЃЌрЃљрЃарЃерЃў рЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃўрЃЎрЃџрЃћрЃЉрЃА, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃљрЃарЃљ рЃЊрЃарЃљрЃЏрЃљрЃбрЃБрЃџрЃљрЃЊ.",
            ]

            for i, text in enumerate(sample_replies):
                Reply.objects.create(
                    topic=topic,
                    author=users[(i % len(users))],
                    content=text
                )
                replies_created += 1

        self.stdout.write(self.style.SUCCESS(f'\nРюЁ Data population complete!'))
        self.stdout.write(self.style.SUCCESS(
            f'Topics created: {topics_created}'))
        self.stdout.write(self.style.SUCCESS(
            f'Replies created: {replies_created}'))
